{"version":3,"sources":["icons/car.svg","icons/bike.svg","icons/scooter.svg","Components/Selector/Selector.js","Components/SidebarSection/Section.js","Components/ProviderList/ProviderList.js","Components/BottomBar/BottomBar.js","Components/Sidebar/Sidebar.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Selector","handleClick","index","_this","props","changeActive","type","options","_this2","this","grid","gridTemplateColumns","concat","length","react_default","a","createElement","style","className","map","x","i","classes","active","push","join","key","onClick","charAt","toUpperCase","substring","React","Component","Section","_ref","children","borderTop","padding","icons","car","carIcon","bike","bikeIcon","scooter","scooterIcon","units","distance","trips","price","numberWithCommas","toString","replace","ProviderList","Fragment","providers","provider","filteredData","data","filter","properties","name","value","max","reduce","b","cost","background","color","width","format","toFixed","modes","mode","height","src","alt","addDays","date","days","result","Date","setDate","getDate","Histogram","drawChart","window","addEventListener","document","getElementById","innerHTML","histogramData","startDate","start","min","end","margin","offsetWidth","d3","domain","rangeRound","y","range","histogram","d","thresholds","ticks","svg","append","attr","bins","selectAll","enter","x0","x1","id","BottomBar","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","currMin","currMax","toLocaleString","split","BottomBar_Histogram","es","onChange","filterDate","count","defaultValue","allowCross","trackStyle","backgroundColor","handleStyle","borderRadius","border","activeHandleStyle","railStyle","Sidebar","sizeLookup","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","initialViewState","longitude","latitude","zoom","pitch","bearing","transitionInterpolator","FlyToInterpolator","App","setState","activeMetric","activeLayer","activeView","componentDidMount","Math","apply","state","features","minDate","maxDate","oncontextmenu","evt","preventDefault","renderTooltip","_this$state","tooltip","left","top","rotateCamera","viewState","transitionDuration","transitionEasing","t","onLoad","animate","toggleProviders","onViewStateChange","time","curr","color2","geometry","coordinates","transitionActive","setTimeout","timer","setInterval","clearInterval","object","hexd","_this3","transitionData","feature","slice","_loop","_data","toConsumableArray","flat","pathLayer","PathLayer","pickable","widthScale","widthMinPixels","getPath","getColor","getWidth","onHover","_ref2","setTooltip","hexLayer","HexagonLayer","extruded","radius","round","elevationScale","getPosition","arcLayer","ArcLayer","getSourcePosition","startCoordinates","getTargetPosition","endCoordinates","getSourceColor","sqrt","inbound","getTargetColor","outbound","layers","Components_Sidebar_Sidebar","SidebarSection_Section","Components_Selector_Selector","Components_ProviderList_ProviderList","Components_BottomBar_BottomBar","deckgl","controller","minZoom","esm","defineProperty","mapboxApiAccessToken","mapStyle","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.a1428ac0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/car.18180132.svg\";","module.exports = __webpack_public_path__ + \"static/media/bike.ba4fb8df.svg\";","module.exports = __webpack_public_path__ + \"static/media/scooter.47924a3a.svg\";","import React from 'react';\nimport './Selector.css';\n\nclass Selector extends React.Component {\n\n\n   handleClick = (index) => {\n      this.props.changeActive(this.props.type, this.props.options[index])\n   }\n   render() {\n\n      const grid = {\n         gridTemplateColumns:` repeat(${this.props.options.length}, 1fr)`\n      }\n\n      return(\n         <div style={grid} className=\"selector-outside\">\n            {\n               this.props.options.map((x,i) => {\n                  const classes = ['selector-option'];\n                  if (this.props.active === x) {\n                     if (i === 0) {\n                        classes.push('left-selector-active');\n                     } else if (i === this.props.options.length - 1) {\n                        classes.push('right-selector-active');\n                     } else {\n                        classes.push('selector-active');\n                     }\n                  } else {\n                     if (i !== 0 && i !== this.props.options.length - 1) {\n                        if (i === 1 && this.props.options.length > 2) {\n                           classes.push('first-center-selector-option');\n                        } else {\n                           classes.push('center-selector-option')\n                        }\n\n                     }\n                  }\n                  return <div\n                     className={classes.join(' ')}\n                     key={i}\n                     onClick={() => this.handleClick(i)}\n                  >\n                     {x.charAt(0).toUpperCase() + x.substring(1)}\n                  </div>\n               })\n            }\n         </div>\n      )\n   }\n}\n\nexport default Selector;\n","import React from 'react';\n\nconst Section = ({children}) => {\n   const style = {\n      borderTop: '1px solid #E8E8E8',\n      padding: '15px 0'\n   }\n   return (\n      <div style={style}>\n         {children}\n      </div>\n   )\n}\n\nexport default Section;\n","import React from 'react';\nimport './ProviderList.css';\n\nimport carIcon from '../../icons/car.svg';\nimport bikeIcon from '../../icons/bike.svg';\nimport scooterIcon from '../../icons/scooter.svg';\n\nconst icons = {\n   car: carIcon,\n   bike: bikeIcon,\n   scooter: scooterIcon\n}\n\nconst units = {\n   distance: 'miles',\n   trips: 'trips',\n   price: 'dollars'\n}\n\nfunction numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nclass ProviderList extends React.Component {\n\n\n   render() {\n\n      return(\n         <>\n            {\n               this.props.providers.map((provider, i) => {\n\n                  const filteredData = this.props.data.filter(x => x.properties.provider === provider.name);\n\n                  let value = 0;\n                  let max = 0;\n\n                  if (provider.active) {\n                     if (this.props.active === 'trips') {\n                        value = filteredData.length;\n                        max = this.props.data.length;\n                     } else if (this.props.active === 'distance') {\n                        value = filteredData.map(x => x.properties.distance)\n                           .reduce((a,b) => a + b);\n                        max = this.props.data.map(x => x.properties.distance)\n                           .reduce((a,b) => a + b);\n                     } else if (this.props.active === 'price') {\n                        value = filteredData.map(x => x.properties.cost)\n                           .reduce((a,b) => a + b);\n                        max = this.props.data.map(x => x.properties.cost)\n                           .reduce((a,b) => a + b);\n                     }\n                  }\n\n\n                  const style = {\n                     background: provider.active ? provider.color : '#DBDBDB',\n                     width: provider.active ?\n                     value / max * 100 + '%' :\n                     '0%'\n                  }\n\n\n                  let format = '';\n                  if (this.props.active === 'price') {\n                     format = `$${numberWithCommas(value.toFixed(2))}`\n                  } else if (this.props.active === 'distance') {\n                     format = `${numberWithCommas(value.toFixed(0))} ${units[this.props.active]}`\n                  } else if (this.props.active === 'trips') {\n                     format = `${value} ${units[this.props.active]}`\n                  }\n                  return <div\n                        key={i}\n                        className=\"provider\"\n                        onClick={() => this.props.handleClick(provider.name)}\n                     >\n                     <div style={style} className=\"line\" />\n                     <span style={{color: provider.active ? 'black' : '#737373'}} className=\"title\">\n                        {provider.name.charAt(0).toUpperCase() + provider.name.substring(1)}\n\n                     </span>\n                     {\n\n                        <span className=\"sub\">\n                           {\n                              format\n                           }\n                        </span>\n                     }\n\n                     <div className=\"icon-container\">\n                        {\n                           provider.active &&\n                           provider.modes.map((mode, i) =>\n                              <img key={i} style={{height: '17px'}} src={icons[mode]} alt=\"transportation mode icon\" />\n                           )\n                        }\n                        {\n                           !provider.active &&\n                           <span> (hidden)</span>\n                        }\n\n                     </div>\n\n                  </div>\n               })\n            }\n         </>\n      )\n   }\n}\n\nexport default ProviderList;\n","import React from 'react';\nimport './BottomBar.css';\nimport * as d3 from \"d3\";\n\nimport { Range } from 'rc-slider';\nimport './Slider.css';\n\nfunction addDays(date, days) {\n   const result = new Date(date);\n   result.setDate(result.getDate() + days);\n   return result;\n}\n\n\nclass Histogram extends React.Component {\n   componentDidMount() {\n      this.drawChart();\n      window.addEventListener('resize', () => this.drawChart())\n   }\n\n   drawChart() {\n      document.getElementById('chart').innerHTML = ''\n      let histogramData = this.props.data.map(x => new Date(x.properties.startDate));\n      const start = this.props.min;\n      const end = this.props.max;\n      const margin = {\n         top: 10,\n         right: 0,\n         bottom: 5,\n         left: 0\n      }\n\n      const width = document.getElementById('chart').offsetWidth;\n      const height = 50 - margin.top - margin.bottom;\n\n      const x = d3.scaleTime().domain([\n         addDays(start, -7), //new Date(2017, 1, 20),\n         addDays(end, 7)\n      ]).rangeRound([0, width]);\n      const y = d3.scaleLinear().range([height, 0]);\n\n      const histogram = d3.histogram().value(function(d) {\n         return d;\n      }).domain(x.domain()).thresholds(x.ticks(\n         d3.timeMonth //d3.timeMonth //: d3.timeWeek\n      ));\n\n      const svg = d3.select(\"#chart\").append(\"svg\")\n         .attr(\"width\", width + margin.left + margin.right)\n         .attr(\"height\", height + margin.top + margin.bottom).append(\"g\")\n         .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      const bins = histogram(histogramData);\n\n      y.domain([\n         0,\n         d3.max(bins, function(d) {\n            return d.length;\n         })\n      ]);\n\n      svg.selectAll(\"rect\").data(bins).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", 1).attr(\"transform\", function(d) {\n            return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\";\n         }).attr(\"width\", function(d) {\n            return x(d.x1) - x(d.x0) - 1 > 0 ? x(d.x1) - x(d.x0) - 1 : 0;\n         })\n         .attr(\"height\", function(d) {\n            return height - y(d.length);\n         })\n   }\n\n\n   render() {\n\n\n      return <div id=\"chart\"></div>;\n\n   }\n}\n\nclass BottomBar extends React.Component {\n   constructor(props) {\n      super(props);\n   }\n\n   render() {\n      const currMin = new Date(this.props.currMin);\n      const currMax = new Date(this.props.currMax);\n\n      return (\n         <div className=\"bottom-bar\">\n            <div className=\"date-row\">\n               <div>{currMin.toLocaleString().split(',')[0]}</div>\n               <div>{currMax.toLocaleString().split(',')[0]}</div>\n            </div>\n            <Histogram\n               data={this.props.data}\n               min={this.props.min}\n               max={this.props.max}\n\n            / >\n            <Range\n               onChange={this.props.filterDate}\n               min={this.props.min}\n               max={this.props.max}\n               count={2}\n               defaultValue={[this.props.min, this.props.max]}\n               allowCross={false}\n               trackStyle={[{ backgroundColor: '#363636' }]}\n               handleStyle={[{\n                  backgroundColor: 'black',\n                  borderRadius: '0',\n                  border: '0',\n                  width: '8px',\n                  padding: '0'\n               },\n               {\n                  backgroundColor: 'black',\n                  borderRadius: '0',\n                  border: '0',\n                  width: '8px',\n                  padding: '0'\n                }]}\n                activeHandleStyle={[{\n                   background: 'green'\n                }\n\n                ]}\n               railStyle={{ backgroundColor: '#D6D6D6' }}\n            />\n\n         </div>\n      )\n   }\n}\n\n\n\nexport default BottomBar;\n","import React from 'react';\nimport './Sidebar.css';\nimport Selector from '../Selector/Selector';\nimport Section from '../SidebarSection/Section'\nimport ProviderList from '../ProviderList/ProviderList';\n\nclass Sidebar extends React.Component {\n   constructor(props) {\n      super(props);\n\n   }\n\n\n   render() {\n      return(\n         <div className=\"sidebar\">\n            {this.props.children}\n         </div>\n      )\n   }\n}\n\nexport default Sidebar;\n","import React from 'react';\nimport {StaticMap, FlyToInterpolator } from 'react-map-gl';\nimport {GeoJsonLayer, PathLayer, ArcLayer} from '@deck.gl/layers';\nimport {HexagonLayer} from '@deck.gl/aggregation-layers';\nimport './App.css';\n\n// import LinearInterpolator from '@deck.gl/core';\n\n\n\nimport mapStyle from './style.json'\n\n\nimport Selector from './Components/Selector/Selector';\nimport Section from './Components/SidebarSection/Section'\nimport ProviderList from './Components/ProviderList/ProviderList';\nimport BottomBar from './Components/BottomBar/BottomBar';\n\nimport Sidebar from './Components/Sidebar/Sidebar';\n\n// import {experimental} from 'deck.gl';\n\nimport DeckGL from '@deck.gl/react';\nimport data from './mobility-data.json';\n\nconst MAPBOX_ACCESS_TOKEN = 'pk.eyJ1IjoiZGJhYmJzIiwiYSI6ImNqN2d2aDBvczFkNmEycWt5OXo0YnY3ejkifQ.h1gKMs1F18_AhB09s91gWg';\n// const initialViewState = { longitude: -122.335167, latitude: 47.608013, zoom: 11, pitch: 60, bearing: -20};\nconst sizeLookup = { 1: 500000, 2: 200000, 3: 100000, 4: 50000, 5: 25000, 6: 12500, 7: 6250, 8: 3000,\n   9: 1200, 10: 600, 11: 400, 12: 200, 13: 100, 14: 80, 15: 40, 16: 20, 17: 10, 18: 5, 19: 5, 20:5}\n\n\nconst initialViewState = {\n   longitude: -122.35021467990396,\n   latitude: 47.623954436942995,\n   zoom: 8,\n   pitch: 60,\n   bearing: -20\n};\n\nconst transitionInterpolator = new FlyToInterpolator();\n\n/*\nTODO: slick transition between button selectors\nTODO: Design map style\nTODO: add icon attribution\nTODO: camera panning animation\nTODO: Add XYZ Space\nTODO: Grid view\n*/\n\nclass App extends React.Component {\n\n   constructor(props) {\n      super(props);\n      this.state = {\n         viewState: initialViewState,\n         data: data,\n         trips: [],\n         time: 0,\n         curr: 0, //0,\n         providers: [\n            {\n               name: 'uber',\n               color: '#276EF1',\n               color2: [39, 110, 241],\n               modes: ['car'],\n               active: true\n            },\n            {\n               name: 'jump',\n               color: '#E73A14',\n               color2: [231, 58, 20],\n               modes: ['bike', 'scooter'],\n               active: true\n            },\n            {\n               name: 'lime',\n               color: '#25CF00',\n               color2: [37, 207, 0],\n               modes: ['bike', 'scooter'],\n               active: true\n            },\n            {\n               name: 'lyft',\n               color: '#FE00D8',\n               color2: [254, 0, 126],\n               modes: ['car'],\n               active: true\n            },\n         ],\n         activeMetric: 'trips',\n         activeLayer: 'polylines',\n         activeView: 'single',\n         minDate: new Date('08/07/1995'),\n         maxDate: new Date()\n      }\n   }\n   changeActive = (type, value) => {\n\n      if (type === 'metric') {\n         this.setState({\n            activeMetric: value\n         })\n      } else if (type === 'layer') {\n         this.setState({\n            activeLayer: value\n         })\n      } else if (type === 'view') {\n         this.setState({\n            activeView: value\n         })\n      }\n\n   }\n\n   componentDidMount = () => {\n\n      const min = Math.min.apply(null,\n         this.state.data.features.map(x => new Date(x.properties.startDate))\n      );\n      const max = Math.max.apply(null,\n         this.state.data.features.map(x => new Date(x.properties.startDate))\n      );\n      this.setState({\n         minDate: min,\n         maxDate: max\n      })\n      document.getElementById('deckgl-overlay').oncontextmenu = evt => evt.preventDefault();\n\n   }\n   animate() {\n\n      //\n      const data = this.state.data.features\n         .filter(x => x.geometry);\n      const max = Math.max.apply(\n         null, data.map(x => x.geometry.coordinates.length)\n      )\n      this.setState({\n         transitionActive: true\n      })\n      setTimeout(() => {\n         const timer = setInterval(() => {\n\n            this.setState({\n               curr: this.state.curr + 1,\n               // transitionActive: true\n            })\n\n            if (this.state.curr === 100) {\n               clearInterval(timer)\n               this.setState({\n                  transitionActive: false\n               })\n            }\n\n         }, 20)\n      },1000)\n\n   }\n\n   renderTooltip = () => {\n      const {x, y, tooltip} = this.state;\n\n      if (tooltip) {\n         return tooltip && (\n\n            <div\n               className=\"tooltip\"\n               style={{left: this.state.x, top: this.state.y, borderTop: `2px solid ${this.state.providers[1].color}`}}\n            >\n               <div>\n                  <span className=\"key\">Provider</span>\n                  <span className=\"value\">Uber</span>\n               </div>\n               <div>\n                  <span className=\"key\">Distance</span>\n                  <span className=\"value\">15 miles</span>\n               </div>\n               <div>\n                  <span className=\"key\">Date</span>\n                  <span className=\"value\">August 17th, 2019</span>\n               </div>\n               <div>\n                  <span className=\"key\">Price</span>\n                  <span className=\"value\">$15.04</span>\n               </div>\n               <div>\n                  <span className=\"key\">Mode</span>\n                  <span className=\"value\">Scooter</span>\n               </div>\n            </div>\n         );\n      }\n      return null;\n\n   }\n\n   setTooltip(x, y, object) {\n      this.setState({x, y, tooltip: object});\n   }\n\n   rotateCamera = () => {\n    // change bearing by 120 degrees.\n    // const bearing = this.state.viewState.bearing + 5;\n      this.setState({\n         viewState: {\n            zoom: 11,\n            latitude: 47.63844399027284,\n            longitude: -122.33327865600585,\n            bearing: -40,\n            pitch: 160,\n            transitionDuration: 3000,\n            transitionEasing: t => t,\n            transitionInterpolator,\n            // onTransitionEnd: this.rotateCamera\n         }\n      });\n   }\n\n   onLoad = () => {\n      this.rotateCamera();\n      this.animate();\n   }\n\n   toggleProviders = (p) => {\n\n      const providers = this.state.providers.map(x => {\n         if (x.name === p) {\n            x.active = !x.active;\n         }\n         return x;\n      })\n\n\n      this.setState({\n         providers: providers\n      })\n   }\n\n   filterDate = evt => {\n      this.setState({\n         minDate: new Date(evt[0]),\n         maxDate: new Date(evt[1])\n      })\n\n   }\n\n   onViewStateChange = ({viewState}) => {\n      this.setState({viewState});\n      if (viewState.zoom > 1) {\n         this.setState({zoom: viewState.zoom})\n      }\n  }\n\n\n   render() {\n\n      const min = Math.min.apply(null,\n         this.state.data.features.map(x => new Date(x.properties.startDate))\n      );\n      const max = Math.max.apply(null,\n         this.state.data.features.map(x => new Date(x.properties.startDate))\n      );\n\n\n      let data = [];\n      let hexd = [];\n\n      const transitionData = this.state.data.features.map(feature => {\n         return {\n            coordinates: feature.geometry.coordinates.slice(0, this.state.curr),\n            provider: feature.properties.provider\n         }\n      })\n\n\n\n      for (let i = 0; i < this.state.providers.length; i++) {\n         if (this.state.providers[i].active) {\n            data.push(\n               ...this.state.data.features.filter(x => x.properties.provider === this.state.providers[i].name)\n            )\n         }\n      }\n      data = data.filter(x => new Date(x.properties.startDate) >= this.state.minDate)\n         .filter(x => new Date(x.properties.startDate) <= this.state.maxDate)\n\n\n      hexd = data.map(x => x.geometry.coordinates).flat();\n\n\n\n      const pathLayer = new PathLayer({\n         id: 'path-layer',\n         data: this.state.transitionActive ? transitionData : data,\n         pickable: true,\n         widthScale: 20,\n         widthMinPixels: 2,\n         getPath: d => this.state.transitionActive ? d.coordinates : d.geometry.coordinates,//.slice(0, this.state.curr),\n         getColor: d => {\n            let provider = this.state.transitionActive ? d.provider : d.properties.provider;\n            return this.state.providers.filter(x => x.name === provider)[0].color2;\n         },\n         getWidth: d => 1,\n         onHover: ({x, y, object}) => this.setTooltip(x, y, object ? object : null)\n      });\n\n      const hexLayer = new HexagonLayer({\n         id: 'hexagon-layer',\n         data: hexd,\n         pickable: true,\n         extruded: true,\n         radius: sizeLookup[Math.round(this.state.zoom)],\n         elevationScale: 4,\n         getPosition: d => d,\n         // onHover: ({object, x, y}) => {}\n      });\n\n      const arcLayer = new ArcLayer({\n         id: 'arc-layer',\n         data: data,\n         pickable: true,\n         getWidth: 3,\n         getSourcePosition: d => d.properties.startCoordinates,\n         getTargetPosition: d => d.properties.endCoordinates,\n         getSourceColor: d => [Math.sqrt(d.inbound), 140, 0],\n         getTargetColor: d => [Math.sqrt(d.outbound), 140, 0],\n      });\n      const layers = [];\n      if (this.state.activeLayer === 'polylines') {\n         layers.push(pathLayer);\n      }\n      if (this.state.activeLayer === 'hexbins') {\n         layers.push(hexLayer);\n      }\n      if (this.state.activeLayer === 'arcs' ) {\n         layers.push(arcLayer);\n      }\n\n      return (\n         <>\n            {\n               this.renderTooltip()\n            }\n            <Sidebar>\n               <h1>Dylan's Mobility Map</h1>\n               <p>An overview of my mobility service activity across cities. With the exception of Lyft, all data was acquired through GDPR requests.</p>\n\n               <Section>\n                  <h2>View Analytics</h2>\n                  <Selector\n                     type=\"metric\"\n                     options={['trips', 'price', 'distance']}\n                     active={this.state.activeMetric}\n                     changeActive={this.changeActive}\n                  />\n                  <ProviderList\n                     handleClick={this.toggleProviders}\n                     providers={this.state.providers}\n                     data={data}\n                     active={this.state.activeMetric}\n                   />\n                <p style={{margin: 0}}>\n                   Filter a particular company by clicking on it.\n                </p>\n               </Section>\n               <Section>\n                  <h2>Toggle Layer</h2>\n                  <Selector\n                     type=\"layer\"\n                     options={['polylines', 'hexbins', 'arcs']}\n                     active={this.state.activeLayer}\n                     changeActive={this.changeActive}\n                  />\n                  <p style={{margin: 0}}>\n                     Switch between individual trip lines and aggregated locations.\n                  </p>\n               </Section>\n               <Section>\n                  <h2>Toggle Grid View</h2>\n                  <Selector\n                     type=\"view\"\n                     options={['single', 'grid']}\n                     active={this.state.activeView}\n                     changeActive={this.changeActive}\n                  />\n               <p style={{margin: 0}}>\n                     Switch between a single map view and multiple city map views.\n                  </p>\n               </Section>\n            </Sidebar>\n            <BottomBar\n               data={data}\n               min={min}\n               max={max}\n               currMin={this.state.minDate}\n               currMax={this.state.maxDate}\n               filterDate={this.filterDate}\n            />\n            <DeckGL\n               initialViewState={initialViewState}\n               viewState={this.state.viewState}\n               onLoad={this.onLoad}\n               controller={true}\n               layers={layers}\n               minZoom={3}\n               onViewStateChange={this.onViewStateChange}\n            >\n               <StaticMap\n                  mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\n                  mapStyle={mapStyle}\n                  mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n               />\n            </DeckGL>\n         </>\n      );\n   }\n\n}\n\n/* TODO:\n<div>Icons made by <a href=\"https://www.freepik.com/\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" \t\t\t    title=\"Flaticon\">www.flaticon.com</a> is licensed by <a href=\"http://creativecommons.org/licenses/by/3.0/\" \t\t\t    title=\"Creative Commons BY 3.0\" target=\"_blank\">CC 3.0 BY</a></div>\n*/\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}