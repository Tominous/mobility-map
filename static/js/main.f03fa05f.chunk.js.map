{"version":3,"sources":["icons/car.svg","icons/bike.svg","icons/scooter.svg","Components/Button/Button.js","Components/Selector/Selector.js","Components/SidebarSection/Section.js","Components/ProviderList/ProviderList.js","Components/BottomBar/BottomBar.js","Components/Sidebar/Sidebar.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Button","props","react_default","a","createElement","className","onClick","handleClick","text","Selector","index","_this","changeActive","type","options","_this2","this","grid","gridTemplateColumns","concat","length","style","map","x","i","classes","active","push","join","key","charAt","toUpperCase","substring","React","Component","Section","_ref","children","paddingBottom","borderTop","padding","icons","car","carIcon","bike","bikeIcon","scooter","scooterIcon","units","distance","trips","price","numberWithCommas","toString","replace","ProviderList","Fragment","providers","provider","filteredData","data","filter","properties","name","value","max","reduce","b","cost","background","color","width","format","toFixed","modes","mode","height","src","alt","addDays","date","days","result","Date","setDate","getDate","Histogram","drawChart","window","addEventListener","document","getElementById","innerHTML","histogramData","startDate","start","min","end","margin","offsetWidth","d3","domain","rangeRound","y","range","histogram","d","thresholds","ticks","svg","append","attr","bins","selectAll","enter","x0","x1","id","BottomBar","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","currMin","currMax","left","toLocaleString","split","BottomBar_Histogram","marginLeft","es","onChange","filterDate","count","defaultValue","allowCross","trackStyle","backgroundColor","handleStyle","borderRadius","border","activeHandleStyle","railStyle","Sidebar","sizeLookup","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","mapViews","longitude","latitude","zoom","pitch","bearing","transitionInterpolator","FlyToInterpolator","App","setState","activeMetric","activeLayer","forceUpdate","activeView","in","setTimeout","componentDidMount","Math","apply","state","features","minDate","maxDate","oncontextmenu","evt","preventDefault","moveSidebar","sidebarOpen","renderTooltip","_this$state","tooltip","console","log","top","points","rotateCamera","viewState0","transitionDuration","transitionEasing","t","onLoad","animate","toggleProviders","onViewStateChange","viewId","defineProperty","viewState","viewState1","viewState2","viewState3","viewState4","viewState5","viewState6","viewState7","viewState8","time","curr","color2","geometry","coordinates","transitionActive","timer","setInterval","clearInterval","object","hexd","_this3","transitionData","feature","slice","_loop","_data","toConsumableArray","startCoordinates","endCoordinates","pathLayer","PathLayer","widthScale","widthMinPixels","getPath","getColor","rounded","getWidth","pickable","autoHighlight","highlightColor","onHover","setTooltip","hexLayer","HexagonLayer","radius","round","elevationScale","getPosition","colorRange","_ref2","arcLayer","ArcLayer","getSourcePosition","getTargetPosition","getSourceColor","getTargetColor","_ref3","layers","views","controller","size1","size2","CSSTransition","timeout","classNames","onEnter","unmountOnExit","appear","Components_Sidebar_Sidebar","SidebarSection_Section","Components_Selector_Selector","Components_ProviderList_ProviderList","Components_Button_Button","Components_BottomBar_BottomBar","deckgl","minZoom","dist_esm","initialViewState","esm","mapboxApiAccessToken","mapStyle","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.f03fa05f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/car.18180132.svg\";","module.exports = __webpack_public_path__ + \"static/media/bike.ba4fb8df.svg\";","module.exports = __webpack_public_path__ + \"static/media/scooter.47924a3a.svg\";","import React from 'react';\nimport './Button.css'\n\nconst Button = (props) => {\n   return (\n      <button\n         className=\"button\"\n         onClick={props.handleClick}\n      >\n         {props.text}\n      </button>\n   )\n}\n\nexport default Button;\n","import React from 'react';\nimport './Selector.css';\n\nclass Selector extends React.Component {\n\n\n   handleClick = (index) => {\n      this.props.changeActive(this.props.type, this.props.options[index])\n   }\n   render() {\n\n      const grid = {\n         gridTemplateColumns:` repeat(${this.props.options.length}, 1fr)`\n      }\n\n      return(\n         <div style={grid} className=\"selector-outside\">\n            {\n               this.props.options.map((x,i) => {\n                  const classes = ['selector-option'];\n                  if (this.props.active === x) {\n                     if (i === 0) {\n                        classes.push('left-selector-active');\n                     } else if (i === this.props.options.length - 1) {\n                        classes.push('right-selector-active');\n                     } else {\n                        classes.push('selector-active');\n                     }\n                  } else {\n                     if (i !== 0 && i !== this.props.options.length - 1) {\n                        if (i === 1 && this.props.options.length > 2) {\n                           classes.push('first-center-selector-option');\n                        } else {\n                           classes.push('center-selector-option')\n                        }\n\n                     }\n                  }\n                  return <div\n                     className={classes.join(' ')}\n                     key={i}\n                     onClick={() => this.handleClick(i)}\n                  >\n                     {x.charAt(0).toUpperCase() + x.substring(1)}\n                  </div>\n               })\n            }\n         </div>\n      )\n   }\n}\n\nexport default Selector;\n","import React from 'react';\n\nconst Section = ({children, paddingBottom}) => {\n   const style = {\n      borderTop: '1px solid #E8E8E8',\n      padding: paddingBottom ? `15px 0 ${paddingBottom}px 0` : '15px 0',\n\n   }\n   return (\n      <div style={style}>\n         {children}\n      </div>\n   )\n}\n\nexport default Section;\n","import React from 'react';\nimport './ProviderList.css';\n\nimport carIcon from '../../icons/car.svg';\nimport bikeIcon from '../../icons/bike.svg';\nimport scooterIcon from '../../icons/scooter.svg';\n\nconst icons = {\n   car: carIcon,\n   bike: bikeIcon,\n   scooter: scooterIcon\n}\n\nconst units = {\n   distance: 'miles',\n   trips: 'trips',\n   price: 'dollars'\n}\n\nfunction numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nclass ProviderList extends React.Component {\n\n\n   render() {\n\n      return(\n         <>\n            {\n               this.props.providers.map((provider, i) => {\n\n                  const filteredData = this.props.data.filter(x => x.properties.provider === provider.name);\n\n                  let value = 0;\n                  let max = 0;\n\n                  if (provider.active) {\n                     if (this.props.active === 'trips') {\n                        value = filteredData.length;\n                        max = this.props.data.length;\n                     } else if (this.props.active === 'distance') {\n                        if (value = filteredData.map(x => x.properties.distance).length === 0) {\n                           value = 0;\n                        } else {\n                           value = filteredData.map(x => x.properties.distance)\n                              .reduce((a,b) => a + b);\n                        }\n\n                        max = this.props.data.map(x => x.properties.distance)\n                           .reduce((a,b) => a + b);\n                     } else if (this.props.active === 'price') {\n\n                        if (filteredData.map(x => x.properties.cost).length == 0) {\n                           value = 0;\n                        } else {\n                           value = filteredData.map(x => x.properties.cost)\n                              .reduce((a,b) => a + b);\n                        }\n\n                        max = this.props.data.map(x => x.properties.cost)\n                           .reduce((a,b) => a + b);\n                     }\n                  }\n\n\n                  const style = {\n                     background: provider.active ? provider.color : '#DBDBDB',\n                     width: provider.active ?\n                     value / max * 100 + '%' :\n                     '0%'\n                  }\n\n\n                  let format = '';\n                  if (this.props.active === 'price') {\n                     format = `$${numberWithCommas(value.toFixed(2))}`\n                  } else if (this.props.active === 'distance') {\n                     format = `${numberWithCommas(value.toFixed(0))} ${units[this.props.active]}`\n                  } else if (this.props.active === 'trips') {\n                     format = `${value} ${units[this.props.active]}`\n                  }\n                  return <div\n                        key={i}\n                        className=\"provider\"\n                        onClick={() => this.props.handleClick(provider.name)}\n                     >\n                     <div style={style} className=\"line\" />\n                     <span style={{color: provider.active ? 'black' : '#737373'}} className=\"title\">\n                        {provider.name.charAt(0).toUpperCase() + provider.name.substring(1)}\n\n                     </span>\n                     {\n\n                        <span className=\"sub\">\n                           {\n                              format\n                           }\n                        </span>\n                     }\n\n                     <div className=\"icon-container\">\n                        {\n                           provider.active &&\n                           provider.modes.map((mode, i) =>\n                              <img key={i} style={{height: '17px'}} src={icons[mode]} alt=\"transportation mode icon\" />\n                           )\n                        }\n                        {\n                           !provider.active &&\n                           <span> (hidden)</span>\n                        }\n\n                     </div>\n\n                  </div>\n               })\n            }\n         </>\n      )\n   }\n}\n\nexport default ProviderList;\n","import React from 'react';\nimport './BottomBar.css';\nimport * as d3 from \"d3\";\n\nimport { Range } from 'rc-slider';\nimport './Slider.css';\n\nfunction addDays(date, days) {\n   const result = new Date(date);\n   result.setDate(result.getDate() + days);\n   return result;\n}\n\n\nclass Histogram extends React.Component {\n   componentDidMount() {\n      this.drawChart();\n      window.addEventListener('resize', () => this.drawChart())\n   }\n\n   drawChart() {\n      document.getElementById('chart').innerHTML = ''\n      let histogramData = this.props.data.map(x => new Date(x.properties.startDate));\n      const start = this.props.min;\n      const end = this.props.max;\n      const margin = {\n         top: 10,\n         right: 0,\n         bottom: 5,\n         left: 0\n      }\n\n      const width = document.getElementById('chart').offsetWidth;\n      const height = 50 - margin.top - margin.bottom;\n\n      const x = d3.scaleTime().domain([\n         addDays(start, -7), //new Date(2017, 1, 20),\n         addDays(end, 7)\n      ]).rangeRound([0, width]);\n      const y = d3.scaleLinear().range([height, 0]);\n\n      const histogram = d3.histogram().value(function(d) {\n         return d;\n      }).domain(x.domain()).thresholds(x.ticks(\n         d3.timeMonth\n      ));\n\n      const svg = d3.select(\"#chart\").append(\"svg\")\n         .attr(\"width\", width + margin.left + margin.right)\n         .attr(\"height\", height + margin.top + margin.bottom).append(\"g\")\n         .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      const bins = histogram(histogramData);\n\n      y.domain([\n         0,\n         d3.max(bins, function(d) {\n            return d.length;\n         })\n      ]);\n\n      svg.selectAll(\"rect\").data(bins).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", 1).attr(\"transform\", function(d) {\n            return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\";\n         }).attr(\"width\", function(d) {\n            return x(d.x1) - x(d.x0) - 1 > 0 ? x(d.x1) - x(d.x0) - 1 : 0;\n         })\n         .attr(\"height\", function(d) {\n            return height - y(d.length);\n         })\n   }\n\n\n   render() {\n\n\n      return <div id=\"chart\"></div>;\n\n   }\n}\n\nclass BottomBar extends React.Component {\n   constructor(props) {\n      super(props);\n   }\n\n   render() {\n      const currMin = new Date(this.props.currMin);\n      const currMax = new Date(this.props.currMax);\n\n      return (\n         <div style={{left: this.props.left}} className=\"bottom-bar\">\n            <div className=\"date-row\">\n               <div>{currMin.toLocaleString().split(',')[0]}</div>\n               <div>{currMax.toLocaleString().split(',')[0]}</div>\n            </div>\n            <Histogram\n               data={this.props.data}\n               min={this.props.min}\n               max={this.props.max}\n\n            / >\n            <div style={{marginLeft: '5px'}}>\n               <Range\n                  onChange={this.props.filterDate}\n                  min={this.props.min}\n                  max={this.props.max}\n                  count={2}\n                  defaultValue={[this.props.min, this.props.max]}\n                  allowCross={false}\n                  trackStyle={[{ backgroundColor: '#363636' }]}\n                  handleStyle={[{\n                     backgroundColor: 'black',\n                     borderRadius: '0',\n                     border: '0',\n                     width: '8px',\n                     padding: '0'\n                  },\n                  {\n                     backgroundColor: 'black',\n                     borderRadius: '0',\n                     border: '0',\n                     width: '8px',\n                     padding: '0'\n                  }]}\n                  activeHandleStyle={[{\n                     background: 'green'\n                  }\n\n                  ]}\n                  railStyle={{ backgroundColor: '#D6D6D6' }}\n               />\n            </div>\n\n\n         </div>\n      )\n   }\n}\n\n\n\nexport default BottomBar;\n","import React from 'react';\nimport './Sidebar.css';\nimport Selector from '../Selector/Selector';\nimport Section from '../SidebarSection/Section'\nimport ProviderList from '../ProviderList/ProviderList';\n\nclass Sidebar extends React.Component {\n   constructor(props) {\n      super(props);\n\n   }\n\n\n   render() {\n      return(\n         <div style={{height: this.props.height}} className=\"sidebar\">\n            {this.props.children}\n         </div>\n      )\n   }\n}\n\nexport default Sidebar;\n","import React from 'react';\nimport {StaticMap, FlyToInterpolator } from 'react-map-gl';\nimport {GeoJsonLayer, PathLayer, ArcLayer} from '@deck.gl/layers';\nimport {HexagonLayer} from '@deck.gl/aggregation-layers';\nimport './App.css';\n\nimport Button from './Components/Button/Button'\nimport mapStyle from './style.json'\n\nimport {View, MapView} from '@deck.gl/core';\n\nimport {\n  CSSTransition,\n  TransitionGroup,\n} from 'react-transition-group';\n\n// import mapStyle from './style.json'\n\n\nimport Selector from './Components/Selector/Selector';\nimport Section from './Components/SidebarSection/Section'\nimport ProviderList from './Components/ProviderList/ProviderList';\nimport BottomBar from './Components/BottomBar/BottomBar';\n\nimport Sidebar from './Components/Sidebar/Sidebar';\n\n// import {experimental} from 'deck.gl';\n\nimport DeckGL from '@deck.gl/react';\n\n// import {MapView} from '@deck.gl/core';\nimport data from './mobility-data.json';\n\nconst MAPBOX_ACCESS_TOKEN = 'pk.eyJ1IjoiZGJhYmJzIiwiYSI6ImNqN2d2aDBvczFkNmEycWt5OXo0YnY3ejkifQ.h1gKMs1F18_AhB09s91gWg';\n// const initialViewState = { longitude: -122.335167, latitude: 47.608013, zoom: 11, pitch: 60, bearing: -20};\nconst sizeLookup = { 1: 500000, 2: 200000, 3: 100000, 4: 50000, 5: 25000, 6: 12500, 7: 6250, 8: 3000,\n   9: 1200, 10: 600, 11: 400, 12: 200, 13: 100, 14: 80, 15: 40, 16: 20, 17: 10, 18: 5, 19: 5, 20:5}\n\n\nconst initialViewState = {\n   longitude: -122.35021467990396,\n   latitude: 47.623954436942995,\n   zoom: 8,\n   pitch: 60,\n   bearing: -20\n};\n\nconst mapViews = [\n   {\n      longitude: -122.35021467990396,\n      latitude: 47.623954436942995,\n      zoom: 15, //8\n      pitch: 60,\n      bearing: -20\n   },\n   //Berlin\n   {\n      longitude: 13.404954,\n      latitude: 52.520008,\n      zoom: 10,\n      pitch: 60,\n      bearing: 0\n   },\n   //SF\n   {\n      longitude: -122.41251212803706,\n      latitude: 37.77116905512072,\n      zoom: 8,\n      pitch: 20,\n      bearing: 0\n   },\n   //San Diego\n   {\n      longitude: -117.19453161713136,\n      latitude: 32.7459306899641,\n      zoom: 8,\n      pitch: 20,\n      bearing: 0\n   },\n   //Chicago\n   {\n      longitude: -87.65142984345374,\n      latitude: 41.87225195677442,\n      zoom: 10,\n      pitch: 20,\n      bearing: 0\n   },\n   //San Juan\n   {\n      longitude: -66.06411721833007,\n      latitude: 18.465526764926423,\n      zoom: 11,\n      pitch: 20,\n      bearing: 0\n   },\n   //Detroit\n   {\n      longitude: -83.03440701349251,\n      latitude: 42.34305805549184,\n      zoom: 8,\n      pitch: 20,\n      bearing: 0\n   },\n   //Instanbul\n   {\n      longitude: 28.979530,\n      latitude: 41.015137,\n      zoom: 10,\n      pitch: 20,\n      bearing: 0\n   },\n   //Amsterdam\n   {\n      longitude: 4.899431,\n      latitude: 52.379189,\n      zoom: 10,\n      pitch: 20,\n      bearing: 0\n   }\n]\n\nconst transitionInterpolator = new FlyToInterpolator();\n\n/*\nTODO: slick transition between button selectors\nTODO: Design map style\nTODO: add icon attribution\nTODO: Efficient map filtering\nTODO: Add XYZ Space\nTODO: Grid view\nTODO: Anonymize data near home\n*/\n\nclass App extends React.Component {\n\n   constructor(props) {\n      super(props);\n      this.state = {\n         sidebarOpen: true,\n         in: true,\n         viewState0: mapViews[0],\n         viewState1: mapViews[1],\n         viewState2: mapViews[2],\n         viewState3: mapViews[3],\n         viewState4: mapViews[4],\n         viewState5: mapViews[5],\n         viewState6: mapViews[6],\n         viewState7: mapViews[7],\n         viewState8: mapViews[8],\n         data: data,\n         trips: [],\n         time: 0,\n         curr: 0, //0,\n         providers: [\n            {\n               name: 'uber',\n               color: '#276EF1',\n               // color2: [0,0,0],\n               color2: [39, 110, 241, 200],\n               modes: ['car'],\n               active: true\n            },\n            {\n               name: 'jump',\n               color: '#E73A14',\n               color2: [231, 58, 20, 200],\n               modes: ['bike', 'scooter'],\n               active: true\n            },\n            {\n               name: 'lime',\n               color: '#25CF00',\n               color2: [37, 207, 0, 200],\n               modes: ['bike', 'scooter'],\n               active: true\n            },\n            {\n               name: 'lyft',\n               color: '#FE00D8',\n               color2: [254, 0, 126, 200],\n               modes: ['car'],\n               active: true\n            },\n         ],\n         activeMetric: 'trips',\n         activeLayer: 'polylines',\n         activeView: 'single',\n         minDate: new Date('08/07/1995'),\n         maxDate: new Date()\n      }\n   }\n   changeActive = (type, value) => {\n      if (type === 'metric') {\n         this.setState({\n            activeMetric: value\n         })\n      } else if (type === 'layer') {\n         this.setState({\n            activeLayer: value\n         })\n         this.forceUpdate();\n      } else if (type === 'view') {\n         this.setState({\n            activeView: value\n         })\n         // this.animate();\n         this.setState({\n            in:true\n         })\n         setTimeout(() => {\n            this.setState({\n               in:false\n            })\n         }, 1000)\n      }\n\n   }\n\n   componentDidMount = () => {\n\n\n      const min = Math.min.apply(null,\n         this.state.data.features.map(x => new Date(x.properties.startDate))\n      );\n      const max = Math.max.apply(null,\n         this.state.data.features.map(x => new Date(x.properties.startDate))\n      );\n      this.setState({\n         minDate: min,\n         maxDate: max\n      })\n      document.getElementById('deckgl-overlay').oncontextmenu = evt => evt.preventDefault();\n\n   }\n   animate() {\n\n      //\n      console.log('aniamting')\n      const data = this.state.data.features\n         .filter(x => x.geometry);\n      const max = Math.max.apply(\n         null, data.map(x => x.geometry.coordinates.length)\n      )\n      this.setState({\n         transitionActive: true,\n         curr: 0\n      })\n      setTimeout(() => {\n         const timer = setInterval(() => {\n\n            this.setState({\n               curr: this.state.curr + 1,\n               // transitionActive: true\n            })\n\n            if (this.state.curr === 180) {\n               clearInterval(timer)\n               this.setState({\n                  transitionActive: false\n               })\n            }\n\n         }, 3)\n      },2000)\n\n   }\n\n   moveSidebar = () => {\n      this.setState({\n         sidebarOpen: !this.state.sidebarOpen\n      })\n   }\n\n   renderTooltip = () => {\n      const {x, y, tooltip} = this.state;\n\n      if (tooltip) {\n\n         // console.log(color)\n         console.log(tooltip)\n         console.log(this.state.activeLayer)\n         if (this.state.activeLayer === 'hexbins') {\n            return tooltip && (\n\n               <div\n                  className=\"tooltip\"\n                  style={{left: this.state.x, top: this.state.y, borderTop: `2px solid black`}}\n               >\n                  <div>\n                     <span className=\"key\"># Pickups</span>\n                     <span className=\"value\">{tooltip.points.length}</span>\n                  </div>\n               </div>\n            );\n         } else {\n\n            const color = this.state.providers.filter(x => x.name === tooltip.properties.provider)[0].color\n            return tooltip && (\n\n               <div\n                  className=\"tooltip\"\n                  style={{left: this.state.x, top: this.state.y, borderTop: `2px solid ${color}`}}\n               >\n                  <div>\n                     <span className=\"key\">Provider</span>\n                     <span className=\"value\">{tooltip.properties.provider.charAt(0).toUpperCase() + tooltip.properties.provider.substring(1)}</span>\n                  </div>\n                  <div>\n                     <span className=\"key\">Distance</span>\n                     <span className=\"value\">{tooltip.properties.distance.toFixed(1)} miles</span>\n                  </div>\n                  <div>\n                     <span className=\"key\">Date</span>\n                     <span className=\"value\">{new Date(tooltip.properties.startDate).toLocaleString().split(',')[0]}</span>\n                  </div>\n                  <div>\n                     <span className=\"key\">Price</span>\n                     <span className=\"value\">${tooltip.properties.cost}</span>\n                  </div>\n               </div>\n            );\n         }\n\n      }\n      return null;\n\n   }\n\n   setTooltip(x, y, object) {\n      this.setState({x, y, tooltip: object});\n   }\n\n   rotateCamera = () => {\n      this.setState({\n         in: false\n      })\n    // const bearing = this.state.viewState.bearing + 5;\n      this.setState({\n         viewState0: {\n            zoom: 11,\n            latitude: 47.61931309876645,\n            longitude: -122.38086333961408,\n            bearing: 22,\n            pitch: 60,\n            transitionDuration: 6000,\n            transitionEasing: t => t,\n            transitionInterpolator,\n         }\n      });\n   }\n\n   onLoad = () => {\n\n\n      this.rotateCamera();\n      this.animate();\n   }\n\n   toggleProviders = (p) => {\n\n      const providers = this.state.providers.map(x => {\n         if (x.name === p) {\n            x.active = !x.active;\n         }\n         return x;\n      })\n\n\n      this.setState({\n         providers: providers\n      })\n   }\n\n   filterDate = evt => {\n      this.setState({\n         minDate: new Date(evt[0]),\n         maxDate: new Date(evt[1])\n      })\n\n   }\n\n   onViewStateChange = (evt) => {\n\n      const key = 'viewState' + evt.viewId;\n      this.setState({\n         [key]: evt.viewState\n      })\n\n      // this.setState({viewState});\n      if (evt.viewState.zoom > 1) {\n         this.setState({zoom: evt.viewState.zoom})\n      }\n  }\n\n\n   render() {\n\n      const min = Math.min.apply(null,\n         this.state.data.features.map(x => new Date(x.properties.startDate))\n      );\n      const max = Math.max.apply(null,\n         this.state.data.features.map(x => new Date(x.properties.startDate))\n      );\n\n\n      let data = [];\n      let hexd = [];\n\n      const transitionData = this.state.data.features.map(feature => {\n         const coords = feature.geometry.coordinates.slice(1, this.state.curr)\n         // console.log(coords);\n         return {\n            coordinates: coords,\n            provider: feature.properties.provider\n         }\n      })\n\n\n\n      for (let i = 0; i < this.state.providers.length; i++) {\n         if (this.state.providers[i].active) {\n            data.push(\n               ...this.state.data.features.filter(x => x.properties.provider === this.state.providers[i].name)\n            )\n         }\n      }\n      data = data.filter(x => new Date(x.properties.startDate) >= this.state.minDate)\n         .filter(x => new Date(x.properties.startDate) <= this.state.maxDate)\n\n      hexd = [\n         ...data.map(x => x.properties.startCoordinates),\n         ...data.map(x => x.properties.endCoordinates)\n      ]\n\n\n      const pathLayer = new PathLayer({\n         id: 'path-layer',\n         data: this.state.transitionActive ? transitionData : data,\n\n         widthScale: 3,\n         widthMinPixels: 3,\n         getPath: d => this.state.transitionActive ? d.coordinates : d.geometry.coordinates,//.slice(0, this.state.curr),\n         getColor: d => {\n            let provider = this.state.transitionActive ? d.provider : d.properties.provider;\n            return this.state.providers.filter(x => x.name === provider)[0].color2;\n         },\n         rounded: true,\n         getWidth: d => 10,\n         pickable: true,\n         autoHighlight: true,\n         highlightColor: [249,226,0],\n         onHover: ({x, y, object}) => !this.state.transitionActive && this.setTooltip(x, y, object ? object : null)\n      });\n\n      const hexLayer = new HexagonLayer({\n         id: 'hexagon-layer',\n         data: hexd,\n         pickable: true,\n         // extruded: true,\n         radius: sizeLookup[Math.round(this.state.zoom)],\n         elevationScale: 4,\n         getPosition: d => d,\n         colorRange: [\n            [32,62,154],\n            [85,29,173],\n            [192,25,188],\n            [211,19,86],\n            [230,71,10],\n            [249,226,0]\n         ],\n         onHover: ({x, y, object}) => !this.state.transitionActive && this.setTooltip(x, y, object ? object : null)\n\n      });\n\n      const arcLayer = new ArcLayer({\n         id: 'arc-layer',\n         data: data,\n         pickable: true,\n         autoHighlight: true,\n         highlightColor: [249,226,0],\n         getWidth: 4,\n         getSourcePosition: d => d.properties.startCoordinates,\n         getTargetPosition: d => d.properties.endCoordinates,\n         getSourceColor: d => {\n            let provider = d.properties.provider;\n            return this.state.providers.filter(x => x.name === provider)[0].color2;\n         },\n         getTargetColor: d => {\n            let provider = d.properties.provider;\n            return this.state.providers.filter(x => x.name === provider)[0].color2;\n         },\n         onHover: ({x, y, object}) => this.setTooltip(x, y, object ? object : null)\n\n      });\n      const layers = [];\n      if (this.state.activeLayer === 'polylines') {\n         layers.push(pathLayer);\n\n\n      }\n      if (this.state.activeLayer === 'hexbins') {\n         layers.push(hexLayer);\n      }\n      if (this.state.activeLayer === 'arcs' ) {\n         layers.push(arcLayer);\n\n      }\n      // console.log(this.state.per + '%')\n      let views = [\n         {\n            id: '0',\n            width: '100%',\n            height: '100%',\n            controller: true,\n         },\n\n      ]\n\n      if (this.state.activeView === 'grid') {\n         const size1 = 1 / 3 * 100 +'%';\n         const size2 = 2 / 3 * 100 + '%';\n         const size3 = '100%';\n         views = [\n            //Row 1\n            {\n               id: 'top',\n               width: size1,\n               height: size1,\n               controller: true\n            },\n            {\n               id: 'bottom',\n               x: size1,\n               y: 0,\n               width: size1,\n               height: size1,\n               controller: true\n            },\n            {\n               id: '2',\n               x: size2,\n               y: 0,\n               width: size1,\n               height: size1,\n               controller: true\n            },\n\n            //Row 2\n            {\n               id: '3',\n               x: 0,\n               y: size1,\n               width: size1,\n               height: size1,\n               controller: true\n            },\n            {\n               id: '4',\n               x: size1,\n               y: size1,\n               width: size1,\n               height: size1,\n               controller: true\n            },\n            {\n               id: '5',\n               x: size2,\n               y: size1,\n               width: size1,\n               height: size1,\n               controller: true\n            },\n\n            //Row 3\n            {\n               id: '6',\n               x: 0,\n               y: size2,\n               width: size1,\n               height: size1,\n               controller: true\n            },\n            {\n               id: '7',\n               x: size1,\n               y: size2,\n               width: size1,\n               height: size1,\n               controller: true\n            },\n            {\n               id: '8',\n               x: size2,\n               y: size2,\n               width: size1,\n               height: size1,\n               controller: true\n            },\n\n         ]\n      }\n      return (\n         <>\n            {\n               this.renderTooltip()\n            }\n\n            <CSSTransition\n               timeout={1000}\n               in={this.state.in}\n               classNames=\"blur\"\n               onEnter={() => console.log('entering..')}\n               unmountOnExit\n               appear\n            >\n\n               <div className=\"cover\"/>\n            </CSSTransition>\n\n\n\n\n            <Sidebar\n               height={this.state.sidebarOpen ? \"725px\" : \"102px\"}\n            >\n               <h1>Dylan's Mobility Service Map</h1>\n\n\n               {\n                  this.state.sidebarOpen &&\n                  <>\n                     <p>A visualization of my mobility service trips.</p>\n                     <Section>\n                        <h2>View Analytics</h2>\n                        <Selector\n                           type=\"metric\"\n                           options={['trips', 'price', 'distance']}\n                           active={this.state.activeMetric}\n                           changeActive={this.changeActive}\n                        />\n                        <ProviderList\n                           handleClick={this.toggleProviders}\n                           providers={this.state.providers}\n                           data={data}\n                           active={this.state.activeMetric}\n                         />\n                         <p style={{margin: 0}}>\n                            Filter a mobility provider by clicking on it.\n                         </p>\n                     </Section>\n                     <Section>\n                        <h2>Toggle Layer Type</h2>\n                        <Selector\n                           type=\"layer\"\n                           options={['polylines', 'hexbins', 'arcs']}\n                           active={this.state.activeLayer}\n                           changeActive={this.changeActive}\n                        />\n                        <p style={{margin: 0}}>\n                           {\n                              this.state.activeLayer === 'polylines' &&\n                              'Polyines - approximate route of trip.'\n                           }\n                           {\n                              this.state.activeLayer === 'hexbins' &&\n                              'Hexbins - aggregated pickups & dropoffs.'\n                           }\n                           {\n                              this.state.activeLayer === 'arcs' &&\n                              'Arcs - pickup and dropoff points.'\n                           }\n                        </p>\n                     </Section>\n                     <Section\n                        paddingBottom={0}\n                      >\n                        <h2>Toggle Grid View</h2>\n                        <Selector\n                           type=\"view\"\n                           options={['single', 'grid']}\n                           active={this.state.activeView}\n                           changeActive={this.changeActive}\n                        />\n                     <p style={{margin: 0}}>\n                           Single city or multi city view.\n                     </p>\n                     </Section>\n                  </>\n               }\n\n               <Button\n                  text={this.state.sidebarOpen ? \"Collapse sidebar\" : \"Expand sidebar\"}\n                  handleClick={this.moveSidebar}\n               />\n\n\n            </Sidebar>\n            {\n\n               <BottomBar\n                  left={this.state.sidebarOpen ? \"calc(275px + 45px)\" : \"100vw\"}\n                  data={data}\n                  min={min}\n                  max={max}\n                  currMin={this.state.minDate}\n                  currMax={this.state.maxDate}\n                  filterDate={this.filterDate}\n               />\n\n            }\n            {\n               /*\n               initialViewState={initialViewState}\n               viewState={this.state.viewState}\n               onViewStateChange={this.onViewStateChange}\n               */\n            }\n               <DeckGL\n                  onLoad={this.onLoad}\n                  layers={layers}\n                  minZoom={3}\n                  onViewStateChange={this.onViewStateChange}\n               >\n               {\n                  views.map((x,i) => {\n                     return (\n                        <MapView\n                           x={x.x}\n                           y={x.y}\n                           width={x.width}\n                           height={x.height}\n                           controller={x.controller}\n                           id={i.toString()}\n                           key={i}\n\n                           initialViewState={this.state['viewState' + i]}\n                           viewState={this.state['viewState' + i]}\n                        >\n                           <StaticMap\n                              mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\n                              mapStyle={mapStyle}\n\n                           />\n                        </MapView>\n                     )\n                  })\n               }\n\n\n               </DeckGL>\n\n\n\n         </>\n      );\n   }\n\n}\n\n/*\n\n*/\n\n/* TODO:\n<div>Icons made by <a href=\"https://www.freepik.com/\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" \t\t\t    title=\"Flaticon\">www.flaticon.com</a> is licensed by <a href=\"http://creativecommons.org/licenses/by/3.0/\" \t\t\t    title=\"Creative Commons BY 3.0\" target=\"_blank\">CC 3.0 BY</a></div>\n*/\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}